package fr.epita.quizmanager.services;

import java.util.List;

import fr.epita.quizmanager.datamodel.Answer;
import fr.epita.quizmanager.datamodel.Question;

public class ExamDataService {

	private QuestionDAO questionDAO;
	private AnswerDAO answerDAO;
	
	public void saveAnswer(Question question, Answer answer) throws Exception {
		if(questionDAO.getById(question.getId()) != null) {
			if (answerDAO.getById(answer.getId()) == null) {
				answerDAO.create(answer);
			};
			List<Answer> answers = question.getAnswers();
			answers.add(answer);
			question.setAnswers(answers);
			questionDAO.update(question);
		} else {
			throw new Exception("Question '" + question.getTitle() + "' is not found.");
		}
	}
	
}
